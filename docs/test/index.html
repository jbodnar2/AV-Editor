<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="icon" href="../favicon.ico" />
    <title>AV Editor</title>
    <link rel="stylesheet" href="../css/reset.css" />
    <link rel="stylesheet" href="../css/main.css" />
    <link rel="stylesheet" href="../test/test.css" />
  </head>

  <body>
    <header>
      <div class="container">
        <h1>Home</h1>
      </div>
    </header>
    <nav>
      <div class="container">
        <ul>
          <li><a href="./">Home</a></li>
        </ul>
      </div>
    </nav>
    <main>
      <!-- Main content -->

      <div class="container main-grid">
        <div class="row row--media">
          <div class="col col--media">
            <video id="video-1">
              <track kind="captions" src="./api/data/media-478e2cb1-de.vtt" label="German" srclang="de" />
            </video>
          </div>
          <div class="col col--controls"></div>
        </div>
        <div class="row row--options">
          <a href="#" download="vtt">Download VTT</a>
          <a href="#" download="txt">Download TXT</a>
          <a href="#" download="json">Download JSON</a>
        </div>
        <div class="row row--transcript">
          <div id="transcript" class="audio-captions"></div>
        </div>
      </div>

      <!-- Main content end -->
    </main>
    <footer></footer>

    <script type="module" defer>
      import { fetchMediaData } from "./test-api.js";
      import { addVideoData } from "./test-track.js";
      import { appendTranscript } from "./test-transcript.js";
      import { addDownloadListeners } from "./test-downloads.js";

      const videoElement = document.querySelector("#video-1");
      const transcriptElement = document.querySelector("#transcript");

      fetchMediaData({}).then(mediaData => {
        addVideoData(videoElement, mediaData);
        appendTranscript(videoElement, transcriptElement);
        addDownloadListeners(videoElement, {});
      });
    </script>
  </body>
</html>
